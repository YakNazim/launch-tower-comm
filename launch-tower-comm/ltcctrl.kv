#: import pop kivy.uix.popup.Popup
#: import IgnitionPopup ltcctrl.IgnitionPopup
#: import LTCAccordionItem ltcctrl.LTCAccordionItem

<ltcctrl>
    armed: armed
    unarmed: unarmed
    shorepower: shorepower
    reset: reset
    ignite: ignite
    AccordionItem:
        font_size: 40
        id: unarmed
        title: 'Unarmed'
        BoxLayout:
            orientation: 'vertical'
            ToggleButton:
                font_size: 40
                text: 'Enable Shore Power'
                group: 'Shore Power'
                on_release:  root.shorepowerfunc(False)
            ToggleButton:
                font_size: 40
                id: shorepower
                text: 'Disable Shore Power'
                group: 'Shore Power'
                state: 'down'
                on_release: root.shorepowerfunc(False)
            Button:
                font_size: 40
                text: 'Arm'
                on_release: if shorepower.state == 'down': root.armed.collapse = False
    LTCAccordionItem:
        font_size: 40
        id: armed
        title: 'Armed'
        on_collapse: root.on_armed_collapse(self.collapse)
        BoxLayout:
            orientation: 'vertical'
            Button:
                font_size: 40
                id: reset
                text: 'Abort'
                on_release: root.unarmed.collapse = False
            ToggleButton:
                font_size: 40
                id: ignite
                text: 'Ignite'
                on_release: root.on_ignite()
                        
<IgnitionPopup>
    size: root.size
    BoxLayout:
        orientation: 'vertical'
        Label:
            font_size: 40
            text: "Are you sure you want to launch the rocket?"
        BoxLayout:
            orientation: 'horizontal'
            Button:
                font_size: 40
                text: 'Cancel'
                on_release: root.abort(), root.dismiss()
            Label:
                text: '                          '
            Button:
                font_size: 40
                text: 'Ignite'
                on_release: root.ignitefunc(), root.dismiss()

